---
layout: post
title: JS 27 this
---

<br><br>

## This

demo30.html

<br>

this는 함수 내에서 호출 맥락(context)를 의미함<br>
맥락이라는 것은 상황에 따라서 달라진다는 의미인데<br>
함수를 어떻게 호출하느냐에 따라 this가 가리키는 대상이<br>
달라진다는 뜻<br>

함수와 객체의 관계가 느슨한 JS에서는<br>
this가 이 둘을 연결시키는 실질적인 연결점 역할을 함

<br><br>

### 함수호출

<br>

```javascript
function func() {
  if (window === this) {
    document.write("window === this");
  }
}

func();
// window === this

//여기서
//this는 global object인 window를 의미함

//어느 객체에 소속되어 있지 않기 때문에
//암시적으로 전역객체에 속해있는 함수이기떄문에
// this가 window에 접근함

// func(); === window.func();
```

<br>

### method의 호출

<br>

```javascript
var o = {
  func: function () {
    if (o === this) {
      document.write("o === this");
    }
  },
};

o.func();
//o === this

//자기 자신을 this로 접근할 수 있음
```

<br>

### construcor의 호출

<br>

```javascript
var funcThis = null;

function Func() {
  funcThis = this;
}

var o1 = Func();
if (funcThis === window) {
  document.write("window <br />");
}
//window

var o2 = new Func();
if (funcThis === o2) {
  document.write("o2 <br />");
}
//o2
//new를 사용해서 o2라는 객체를 생성했기 때문
```

- 근데 어디서 호출?<br>
  쌓여있지 않고 코드들이 다 나와있기때문에<br>
  if문이 즉성에서 실행되었다 라는 개념인듯<br>

  ```javascript
  만약 내가 알고 있는 형태로
  호출하려면 아래와 같이 쌓으면 됨

  var funcThis = null;

  function Func() {
    funcThis = this;
  }

  function func() {
      var o1 = Func(); {
          if (funcThis === window) {
              document.write("window <br />");
          }
      }
      var o2 = new Func();{
          if (funcThis === o2) {
              document.write("o2 <br />");
          }
      }
  }
  func();
  // window
  // o2
  ```

constructor가 실행되기 전까지는 <br>
객체는 변수에 할당 될수도 없기 때문에<br>
this가 아니면 객체에 대한 어떠한 작업을 할수 없음<br>

```javascript
function Func() {
  document.write(o);
}

var o = new Func();
//undefined
```
